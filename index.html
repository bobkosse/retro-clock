<!DOCTYPE html>
<html lang="nl">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retro Facilitator Klok</title>
<style>
  body { display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100vh; background: #f3f4f6; font-family: sans-serif; }
  input { width: 80px; padding: 8px; font-size: 18px; text-align: center; margin-right: 8px; }
  .time-display { font-size: 180px; font-weight: bold; margin: 40px 0; }
  .finished { color: red; animation: blink 1s infinite; }
  @keyframes blink { 0%, 50%, 100% { opacity: 1; } 25%, 75% { opacity: 0; } }
  button { padding: 10px 20px; font-size: 18px; margin: 5px; cursor: pointer; }
</style>
</head>
<body>

<div>
  <input type="number" id="minutesInput" value="5"> minuten
</div>

<div id="timeDisplay" class="time-display">05:00</div>

<div>
  <button id="startBtn">Start</button>
  <button id="pauseBtn">Pauzeer</button>
  <button id="resetBtn">Reset</button>
  <button id="stopBtn">Stop</button>
</div>

<audio id="alarmAudio" src="https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg" preload="auto"></audio>

<script>
  let totalTime = 300;
  let remaining = 300;
  let interval = null;

  const display = document.getElementById('timeDisplay');
  const minutesInput = document.getElementById('minutesInput');
  const alarmAudio = document.getElementById('alarmAudio');

  function formatTime(secs) {
  const m = String(Math.floor(secs / 60)).padStart(2,'0');
  const s = String(secs % 60).padStart(2,'0');
  return `${m}:${s}`;
}

  function updateDisplay() {
  display.textContent = formatTime(remaining);
  display.className = remaining === 0 ? 'time-display finished' : 'time-display';
}

  function startTimer() {
  if(interval) return;
  interval = setInterval(() => {
  if(remaining > 0){
  remaining--;
  updateDisplay();
} else {
  clearInterval(interval);
  interval = null;
  alarmAudio.play();
}
},1000);
}

  function pauseTimer() {
  clearInterval(interval);
  interval = null;
}

  function resetTimer() {
  pauseTimer();
  remaining = totalTime;
  updateDisplay();
}

  function stopTimer() {
  pauseTimer();
  remaining = 0;
  updateDisplay();
  alarmAudio.play();
}

  minutesInput.addEventListener('change', () => {
  totalTime = parseInt(minutesInput.value) * 60;
  remaining = totalTime;
  updateDisplay();
});

  document.getElementById('startBtn').addEventListener('click', startTimer);
  document.getElementById('pauseBtn').addEventListener('click', pauseTimer);
  document.getElementById('resetBtn').addEventListener('click', resetTimer);
  document.getElementById('stopBtn').addEventListener('click', stopTimer);

  updateDisplay();
</script>

</body>
</html>
